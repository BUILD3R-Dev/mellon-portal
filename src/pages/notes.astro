---
/**
 * Notes Page
 *
 * Displays notes with time window filtering, search, and the ability to add
 * manual notes. All data fetching happens client-side in the NotesIsland.
 */
import DashboardLayout from '../layouts/DashboardLayout.astro';
import { NotesIsland } from '../components/notes/NotesIsland';
import { SyncStatusBanner } from '../components/dashboard/SyncStatusBanner';

const { tenantId } = Astro.locals;
const canAddNotes = !!tenantId;
---

<DashboardLayout title="Notes">
  <div class="space-y-8">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-semibold" style="color: var(--foreground, #111827);">Notes</h1>
        <p class="mt-1" style="color: var(--foreground-muted, #6B7280);">Recent notes and communications.</p>
      </div>
    </div>

    <NotesIsland client:load canAddNotes={canAddNotes} />

    <!-- Data Freshness Banner -->
    <SyncStatusBanner client:load />
  </div>
</DashboardLayout>
